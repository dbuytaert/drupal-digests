# #3571623: Remove deprecated code from the Node module

- **Project:** Drupal Core
- **Type:** Normal task
- **Version:** main
- **Status:** Fixed
- **Diff:** [637e0e3](https://git.drupalcode.org/project/drupal/-/commit/637e0e356bc76d0329fb4ca88ec938d2d37b08d3) · +47/-684 prod · +3/-180 test · 41 files
- **Discussion:** [#3571623](https://www.drupal.org/node/3571623) · 6 contributors · 22 comments

## Summary

Drupal 12 deprecated code has been removed from the Node module. This cleanup removes functions, classes, and hooks that were deprecated during the Drupal 11 cycle. The most visible changes include the removal of the deprecated Syndicate block, the `node_storage_body_field` module, and several procedural functions that have been replaced with object-oriented alternatives. The removal also includes deprecated template variables and the old `hook_ranking()` in favor of `hook_node_search_ranking()`. This is internal cleanup work that should not affect sites that have already updated their code to avoid deprecation warnings.

## Impact

No upgrade or configuration changes required.

## Technical details

This issue removes all Drupal 12 deprecated code from the Node module except for `node_mark()`, which will be removed separately when the History module is removed. The changes span several areas of the Node module's API and implementation.

Major removals include the `node_storage_body_field` module, which was a backwards compatibility shim, and the Syndicate block (`SyndicateBlock`), which provided an RSS feed link. Deprecated procedural functions like `node_title_list()`, `node_type_get_description()`, `node_add_body_field()`, `node_access_view_all_nodes()`, and `node_reindex_node_search()` have been removed. The `template_preprocess_node()` and `template_preprocess_node_add_list()` functions were removed as their logic was moved to `NodeThemeHooks` service methods.

The `NodeStorage::updateType()` method was removed without replacement. The `NodePreviewController::title()` callback was removed as the title is now generated through standard entity label mechanisms. Required constructor parameters were added to several classes including `NodeAccessGrantsCacheContext`, `NodePreviewController`, `NodeGrantDatabaseStorage`, `NodePermissions`, and `NodeViewsData` where previously they were optional with deprecation warnings.

The diff also removes `node.admin.inc` entirely, moving the remaining `node_mass_update()` function to `node.module` where it remains deprecated until Drupal 13. Template variables `teaser` and `metadata` were removed from node templates. Library definitions for moved JavaScript files were cleaned up. References to the old `hook_ranking()` were updated to reference `hook_node_search_ranking()` throughout documentation.

## Timeline

- Opened: February 5, 2026
- Committed: February 22, 2026 (17 days later)

## Collaboration

dcam opened the issue and coordinated the scope of removals. longwave created the initial merge request and identified edge cases like the `node.admin.inc` file deprecation timing mismatch. andypost expanded the cleanup to include the `node_storage_body_field` module and migration-related deprecations, working through test failures to ensure removals were complete. The team coordinated to preserve migration plugins that need to be removed together in a separate effort.

---

*This summary is AI-generated and may contain errors. Check the [original issue on Drupal.org](https://www.drupal.org/node/3571623) for the full picture. For more digests, see [Drupal Digests](https://github.com/dbuytaert/drupal-digests/).*
