# #3570863: Deprecate _menu_link_content_update_path_alias

- **Project:** Drupal Core
- **Type:** Normal task
- **Version:** main
- **Status:** Fixed
- **Diff:** [99d71d7](https://git.drupalcode.org/project/drupal/-/commit/99d71d7d7912c9f174dbad025e239db488bd97df) 路 +78/-20 路 4 files
- **Discussion:** [#3570863](https://www.drupal.org/node/3570863) 路 3 contributors 路 17 comments

## Summary

This change deprecates an internal helper function in the Menu Link Content module and moves its code into a modern object-oriented structure. The deprecated function will be removed in Drupal 12. This is part of ongoing work to eliminate underscore-prefixed functions from Drupal core and modernize the codebase with dependency injection patterns.

## Impact

No upgrade or configuration changes required.

## Technical details

The `_menu_link_content_update_path_alias()` function is deprecated in favor of a protected `updatePathAlias()` method within the `MenuLinkContentHooks` class. This function was the last remaining function in the `menu_link_content.module` file.

The new `updatePathAlias()` method provides identical functionality but follows modern Drupal architecture. It loads menu link content entities by their internal URI and updates their plugin definitions when path aliases change. The `MenuLinkContentHooks` class now uses constructor dependency injection for `EntityTypeManagerInterface`, `ModuleHandlerInterface`, and `MenuLinkManagerInterface`, replacing static `\Drupal::service()` calls throughout the class.

All internal calls to the deprecated function from hook implementations (`hook_path_alias_insert()`, `hook_path_alias_update()`, and `hook_path_alias_delete()`) now use the new protected method. The `entityPredelete()` method also received cleanup to use the injected `$this->menuLinkManager` property instead of calling the service directly. The deprecated function triggers an `E_USER_DEPRECATED` error and references change record [#3566774](https://www.drupal.org/node/3566774).

## Upgrade

If you are calling `_menu_link_content_update_path_alias()` in custom code, there is no direct replacement. This was an internal function marked with an underscore prefix. Review your code to determine if you need to implement similar logic directly, or consider alternative approaches using the menu link manager service.

## Timeline

- Opened: February 1, 2026
- Committed: February 16, 2026 (15 days later)

## Collaboration

nicxvan opened the issue and developed the patch through multiple iterations. dcam provided thorough code review, catching a missed service injection update and confirming the approach through several rounds of feedback as the deprecation strategy evolved during development.

---

*This summary is AI-generated and may contain errors. Check the [original issue on Drupal.org](https://www.drupal.org/node/3570863) for the full picture. For more digests, see [Drupal Digests](https://github.com/dbuytaert/drupal-digests/).*
