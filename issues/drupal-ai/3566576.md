# #3566576: Add Field Widget Actions (FWA) support for Chart field using the chart_config_default widget

- **Project:** Drupal AI
- **Type:** Normal feature request
- **Version:** 1.3.x-dev
- **Status:** Fixed
- **Diff:** [7bb7827](https://git.drupalcode.org/project/ai/-/commit/7bb7827487e6deae44cbf71eeee1402071505120) 路 +1015/-41 路 22 files
- **Discussion:** [#3566576](https://www.drupal.org/node/3566576) 路 6 contributors 路 26 comments

## Summary

The AI Automators module can now generate chart data for Chart fields when editors click a button in the content form. This lets site builders add "Generate Chart" buttons that use AI to extract structured data from text fields (like a body field) and automatically populate chart configurations. The feature uses the existing Field Widget Actions framework to provide an in-form button for Chart fields using the `chart_config_default` widget, similar to how FAQ and taxonomy fields already work.

## Impact

No upgrade or configuration changes required.

## Technical details

This feature adds a new Field Widget Action plugin for Chart fields. The `Chart` plugin in `ai_automators/src/Plugin/FieldWidgetAction/Chart.php` extends `AutomatorBaseAction` and declares support for the `chart_config_default` widget and `chart_config` field type using PHP attributes. It implements the same pattern as other automator field widget actions like `Email` and `FAQ`.

The plugin's `aiAutomatorsAjax()` method handles AJAX requests when editors click the button, and `saveFormValues()` populates the chart's data table structure. The `populateTableValues()` helper method maps AI-generated chart data into the form element structure expected by the Charts module widget, handling both data values and color assignments.

The underlying `LLM: Chart From Text` automator in `PluginBaseClasses/Chart.php` was improved to use `str_getcsv()` instead of simple `explode()` for parsing CSV data, which properly handles quoted values containing delimiters. The prompt was also refined to explicitly request semicolon delimiters and explain quoting rules for text versus numeric values (fixing a typo from "paranthesis" to "parentheses" and "withe" to "with").

The diff includes extensive documentation in `docs/modules/ai_automators/examples/chart-field.md` with a complete setup guide covering field configuration, automator settings, and Field Widget Action attachment. The documentation was also reorganized to move text-to-audio and text-to-image examples into the examples directory and cross-reference them from multiple locations.

## Timeline

- Opened: January 9, 2026
- First commit: February 11, 2026 (1 month later)
- Last commit: February 16, 2026 (5 days later)

## Collaboration

abhisekmazumdar tested the feature thoroughly, identified that chart data was being saved to the database but not immediately visible in the form (which is expected behavior for this implementation), and contributed documentation following the pattern from a related issue. a.dmitriiev requested documentation to help users understand how to configure such automators, which improved the usability of this feature. shalini_jha confirmed the testing findings to validate the behavior.

---

*This summary is AI-generated and may contain errors. Check the [original issue on Drupal.org](https://www.drupal.org/node/3566576) for the full picture. For more digests, see [Drupal Digests](https://github.com/dbuytaert/drupal-digests/).*
