# #3566577: Add Field Widget Actions (FWA) support for FAQ Field using the faqfield_default widget.

- **Project:** Drupal AI
- **Type:** Normal feature request
- **Version:** 1.3.x-dev
- **Status:** Fixed
- **Diff:** [944eaa3](https://git.drupalcode.org/project/ai/-/commit/944eaa3df6bacb107af05e7a19dd55e8e1bb8f50) 路 +668/-31 路 13 files
- **Discussion:** [#3566577](https://www.drupal.org/node/3566577) 路 8 contributors 路 31 comments

## Summary

The AI module now supports AI-generated FAQ content directly within content edit forms. When editing content, you can add a FAQ field and click a "Generate FAQs" button to automatically create question-and-answer pairs based on other content in the form, such as a body field. This makes it easier to create comprehensive FAQ sections without manually writing each entry. The feature works with the FAQ Field contributed module and uses AI to analyze your content and suggest relevant questions with answers.

## Impact

No upgrade or configuration changes required.

## Technical details

This adds a new Field Widget Action plugin `FaqField` that integrates AI Automators with the FAQ Field module's `faqfield_default` widget. The plugin extends `AutomatorBaseAction` and implements the same pattern as other Field Widget Action automators.

The `FaqField` plugin declares compatibility with `widget_types: ['faqfield_default']` and `field_types: ['faqfield']` in its attribute. It overrides `aiAutomatorsAjax()` to handle the AJAX callback when the button is clicked, extracting the field name from the triggering element and calling `populateAutomatorValues()` to run the automator and populate all FAQ items at once.

The `saveFormValues()` method handles the specific structure of FAQ fields, which have both `question` and `answer` sub-properties. It iterates through all items returned by the automator and sets form values for each delta, handling both simple textarea structure and text_format structure for the answer field.

The change includes extensive documentation in `docs/modules/ai_automators/examples/faq-field.md` with step-by-step setup instructions, including how to configure the automator in field settings (selecting a base field for context, setting the prompt), attach the Field Widget Action in form display, and use the resulting button. The documentation clarifies that the `{{ context }}` token is replaced with the selected base field's value.

## Timeline

- Opened: January 9, 2026
- Committed: February 11, 2026 (1 month later)

## Collaboration

marcus_johansson opened the issue and provided the initial implementation direction. shalini_jha tested early patches and identified that the automator should populate all FAQ items at once rather than individual deltas. abhisekmazumdar authored the final implementation and added comprehensive documentation after a.dmitriiev requested setup examples for end users. breidert requested complete testing instructions to enable review. The documentation includes prerequisites, configuration steps, and usage examples that make the feature accessible to site builders.

---

*This summary is AI-generated and may contain errors. Check the [original issue on Drupal.org](https://www.drupal.org/node/3566577) for the full picture. For more digests, see [Drupal Digests](https://github.com/dbuytaert/drupal-digests/).*
