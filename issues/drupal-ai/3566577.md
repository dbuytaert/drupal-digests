# #3566577: Add Field Widget Actions (FWA) support for FAQ Field using the faqfield_default widget.

- **Project:** Drupal AI
- **Type:** Normal feature request
- **Version:** 1.3.x-dev
- **Status:** Fixed
- **Diff:** [944eaa3](https://git.drupalcode.org/project/ai/-/commit/944eaa3df6bacb107af05e7a19dd55e8e1bb8f50) 路 +668/-31 路 13 files
- **Discussion:** [#3566577](https://www.drupal.org/node/3566577) 路 8 contributors 路 30 comments

## Summary

Content editors can now use a "Generate FAQs" button directly in content forms to create structured question-and-answer pairs from existing text using AI. When working with FAQ fields, editors fill in a content field like a body, click the button, and the AI generates multiple FAQ entries at once. This streamlines creating help documentation, product FAQs, and knowledge base articles without leaving the edit form.

## Impact

No upgrade or configuration changes required.

## Technical details

This feature request adds a new Field Widget Action plugin `FaqField` for the `faqfield_default` widget from the FAQ Field module. The plugin extends `AutomatorBaseAction` and declares its compatibility using the `#[FieldWidgetAction]` attribute with `widget_types: ['faqfield_default']` and `field_types: ['faqfield']`.

The `aiAutomatorsAjax()` method handles the AJAX request when the button is clicked. It extracts the field name from the triggering element and calls `populateAutomatorValues()` to run the configured automator and populate the field widget with generated content.

The `saveFormValues()` method handles the FAQ field's nested structure. It iterates over the entity's FAQ field items and populates both the `question` text field and the `answer` field, which can be either a simple textarea or a text_format structure with a nested `value` element.

The implementation follows the pattern established by the existing `Email.php` Field Widget Action plugin. The documentation was added to multiple markdown files in the `docs/modules/ai_automators/` directory, providing step-by-step configuration instructions including how to set up the automator in field settings, attach the Field Widget Action in form display, and use the context token to point the LLM to the correct content source.

## Timeline

- Opened: January 9, 2026
- Committed: February 11, 2026 (1 month later)

## Collaboration

Eight contributors collaborated over 30 comments to deliver this feature. abhisekmazumdar drove the implementation and testing, adding comprehensive documentation after a.dmitriiev requested setup examples for end users. The documentation includes detailed configuration steps, prerequisite modules, and example prompts. marcus_johansson made a key architectural decision in comment 13 to generate all FAQ entries at once rather than individually, preventing duplicate content and simplifying the user experience. breidert's request for complete testing instructions in comment 16 prompted the team to add the detailed documentation that now ships with the feature.

---

*This summary is AI-generated and may contain errors. Check the [original issue on Drupal.org](https://www.drupal.org/node/3566577) for the full picture. For more digests, see [Drupal Digests](https://github.com/dbuytaert/drupal-digests/).*
