# #3569232: Create a Rerank API Explorer for Rerank Op

- **Project:** Drupal AI
- **Type:** Normal feature request
- **Version:** 2.0.x-dev
- **Status:** Fixed
- **Diff:** [1063c6b](https://git.drupalcode.org/project/ai/-/commit/1063c6b58e7eca35a45c4655e295f0682eb6e3d7) 路 +570/-0 路 2 files
- **Discussion:** [#3569232](https://www.drupal.org/node/3569232) 路 4 contributors 路 16 comments

## Summary

The AI module now includes a Rerank Explorer, a browser-based tool for testing and experimenting with AI-powered document reranking. Site builders and developers can enter a search query and a list of documents, then see how AI providers rank those documents by relevance. This makes it easier to evaluate and configure reranking models before integrating them into search or recommendation features.

## Impact

No upgrade or configuration changes required.

## Technical details

The new `RerankGenerator` plugin extends the AI API Explorer submodule with support for the rerank operation type. The plugin provides a form where users can input a query, a list of documents (one per line), and an optional "top N" parameter to limit results. It integrates with the provider selection system through `AiProviderFormHelper` and creates a `ReRankInput` object from the form values.

When a user submits the form, the `getResponse()` method calls `$provider->rerank()` and normalizes the results using `$response->getNormalized()`. The response handler includes logic to parse both array and object formats from different provider implementations, extracting the document text, relevance score, and original index for each result. Results are displayed as an HTML list with scores and indices, plus a collapsible raw JSON view for debugging.

The plugin also generates a code example showing how to use the rerank API programmatically, including instantiating a provider, creating a `ReRankInput` object, and retrieving normalized results. It includes error handling for missing configuration and provider exceptions. The plugin only activates when at least one provider supports the rerank operation type, checked via `hasProvidersForOperationType('rerank')`.

## Timeline

- Opened: January 23, 2026
- Committed: February 10, 2026 (17 days later)

## Collaboration

nikro created and implemented this feature, noting that the code was primarily AI-generated with human review and refinement. abhisekmazumdar tested the explorer with a real reranking model and provided inline code review suggestions along with screenshots demonstrating the functionality. marcus_johansson contributed commits to the feature branch.

---

*This summary is AI-generated and may contain errors. Check the [original issue on Drupal.org](https://www.drupal.org/node/3569232) for the full picture. For more digests, see [Drupal Digests](https://github.com/dbuytaert/drupal-digests/).*
