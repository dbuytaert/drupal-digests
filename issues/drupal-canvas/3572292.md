# #3572292: Implement SPA navigation improvements in Publishing UX

- **Project:** Drupal Canvas
- **Type:** Normal feature request
- **Version:** 1.1.0
- **Status:** Fixed
- **Diff:** [33fa1ec](https://git.drupalcode.org/project/canvas/-/commit/33fa1ec16e80cf6d17c9ef0ffd3d56604cbec023) · +38/-28 prod · +31/-6 test · 5 files
- **Discussion:** [#3572292](https://www.drupal.org/node/3572292) · 3 contributors · 8 comments

## Summary

Publishing UX in Drupal now feels faster and smoother. When you try to publish content but validation errors occur, clicking an error link now navigates directly to the problem component without opening a new browser tab or reloading the page. Similarly, discarding unpublished changes now updates the interface instantly instead of reloading the entire page. These improvements make the editing workflow feel more responsive and modern by taking advantage of single-page application navigation already available in the interface.

## Impact

No upgrade or configuration changes required.

## Technical details

The Publishing UX interface now uses React Router's `Link` component for in-app navigation instead of standard anchor tags that trigger full page reloads. In `ReviewErrors.tsx`, error links that previously opened in new tabs with `target="_blank"` now use `Link` components with relative paths like `/editor/{entity_type}/{entity_id}` instead of absolute URLs with `baseUrl`. This enables seamless SPA navigation to the erroring component.

The discard flow in `UnpublishedChanges.tsx` was refactored to remove the `window.location.reload()` call. Instead, after successfully discarding a change, the code now dispatches Redux actions to invalidate relevant API cache tags for `Layout` and `Content`, triggering automatic refetches of fresh data. This ensures the UI reflects the server state without a full page reload.

The `pendingChangesApi.ts` service was updated so `discardPendingChange` now optimistically updates the pending changes cache, removes the discarded change from the Redux store, and dispatches additional state resets for conflicts and errors. The `DiscardPendingChangeArg` type was introduced to include an optional `pointer` field for cache management.

End-to-end tests were added to verify that discarding changes and clicking error links both maintain the current URL path without page reloads, confirming true SPA behavior.

## Timeline

- Opened: February 9, 2026
- Committed: February 13, 2026 (4 days later)

## Collaboration

lauriii made the initial commits implementing both SPA navigation improvements. jessebaker opened the issue and clearly identified the two areas where page reloads could be eliminated to improve user experience.

---

*This summary is AI-generated and may contain errors. Check the [original issue on Drupal.org](https://www.drupal.org/node/3572292) for the full picture. For more digests, see [Drupal Digests](https://github.com/dbuytaert/drupal-digests/).*
