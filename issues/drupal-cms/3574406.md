# #3574406: Unify the installer into a single package that is part of our subtree split

- **Project:** Drupal CMS
- **Type:** Normal task
- **Status:** Fixed
- **Diff:** [d485687](https://git.drupalcode.org/project/drupal_cms/-/commit/d4856876a6db4957962e6a51e8e889e45a1b8ea8) · +1360/-138 prod · +170/-53 test · +20/-19 infra · 64 files
- **Discussion:** [#3574406](https://www.drupal.org/node/3574406) · 2 contributors · 7 comments

## Summary

Drupal CMS streamlined its installation system by consolidating the installer code into a single package that lives in the main repository. Previously, the installer relied on a separate Recipe Installer Kit package that was difficult to test and maintain. The new approach makes the installer easier to understand and modify while keeping it disposable. After installation completes, site owners can remove the installer with a simple Composer command. This change only affects Drupal CMS installations and does not impact Drupal core or other distributions.

## Impact

No upgrade or configuration changes required.

## Technical details

The installer was refactored from a two-package system (the `drupal_cms_installer` profile plus the separate `recipe_installer_kit` library) into a single `drupal_cms_installer` install profile. The new profile is part of Drupal CMS's subtree split and contains all installer logic and its tightly coupled theme in one place.

The architecture moved most install steps to the late installer phase, after database setup. This means users see the database configuration screen first unless they are in an environment like DDEV that preconfigures it. Working in the late installer provides more flexibility and stability than the early installer environment.

Recipe tracking logic was inverted. Instead of tracking which recipes have been applied, the `RecipeHandler` service now tracks which recipes still need to be applied. This improves fault tolerance on hosting plans with limited resources. If installation times out, the installer can resume and pick up where it left off without re-applying recipes.

The `SiteNameForm`, `SiteSettingsForm`, and `SiteTemplateForm` classes handle the user-facing installation steps. The `Silencer` messenger decorator suppresses confusing status messages during installation. The `FileTranslation` class extends core's file translation service to support translation files for non-core projects.

The profile explicitly states in its README that it has no API or backwards compatibility promise. Recipe Installer Kit is deprecated with no further development.

## Timeline

- Opened: February 18, 2026
- Committed: February 20, 2026 (1 day later)

## Collaboration

phenaproxima drove this refactoring through from issue creation to commit in just two days, performing a "seismic, near-total rewrite" of the installer. They carefully documented the architectural changes in comment #3, explaining the shift to late-installer operations and the inverted recipe tracking logic. They also called out the implications for Drupal Forge developers and clarified that the installer provides no backwards compatibility for anyone attempting to customize or co-opt it.

---

*This summary is AI-generated and may contain errors. Check the [original issue on Drupal.org](https://www.drupal.org/node/3574406) for the full picture. For more digests, see [Drupal Digests](https://github.com/dbuytaert/drupal-digests/).*
