# #3569529: Add an AGENTS.md file

- **Project:** Drupal CMS
- **Type:** Normal feature request
- **Status:** Fixed
- **Diff:** [aecaffb](https://git.drupalcode.org/project/drupal_cms/-/commit/aecaffbe229e6296ba2092a2bc073b2f2b7807dc) · +264/-0 prod · +4/-0 infra · 10 files
- **Discussion:** [#3569529](https://www.drupal.org/node/3569529) · 4 contributors · 12 comments

## Summary

Drupal CMS now includes an AGENTS.md file to help AI coding assistants work more effectively with the codebase. This file provides structured guidance on the project's technology stack, coding standards, development commands, and prohibited actions. The documentation helps AI tools avoid common mistakes and follow project conventions when assisting developers with Drupal CMS contributions.

## Impact

No upgrade or configuration changes required.

## Technical details

The new `AGENTS.md` file documents Drupal CMS-specific conventions for AI coding assistants. It covers the monorepo structure with recipes in the `recipes` directory, the `drupal_cms_helper` module, and the `project_template` directory used for end-user installations.

The file provides command references for common development tasks using DDEV and Drush, including recipe application, PHPUnit testing, site installation, and content export with `drush content:export`. It specifies coding standards like using strict typing, the `?type` nullable syntax, `#[\Override]` attributes, and marking new classes as final with private members.

Several README files in protected directories (`cpanel_template`, `patches`, `scripts`, `splitter`) now explicitly warn agents not to modify those areas. The prohibited actions section lists destructive operations like running `ddev tag` or `composer update` outside the project root, and prevents agents from adding patches or pinning dependencies in Composer files.

The documentation emphasizes defensive programming in `drupal_cms_helper`, requiring checks like `\Drupal::moduleHandler()->moduleExists()` before using optional module functionality. It also instructs agents to mark new non-test classes as internal with specific warning text.

## Timeline

- Opened: January 26, 2026
- Committed: February 4, 2026 (9 days later)

## Collaboration

This issue demonstrates the Drupal CMS team's pragmatic approach to AI tooling. The issue author acknowledged ambivalence about AI while recognizing its practical utility and the need to accommodate developers using these tools. Multiple contributors provided feedback to improve structure and readability, with discussion about whether to manage the file through a separate package like the scaffold system. The team decided keeping `AGENTS.md` in the repository made more sense for documenting internal workings.

---

*This summary is AI-generated and may contain errors. Check the [original issue on Drupal.org](https://www.drupal.org/node/3569529) for the full picture. For more digests, see [Drupal Digests](https://github.com/dbuytaert/drupal-digests/).*
