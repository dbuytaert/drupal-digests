<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
  <channel>
    <title>Drupal Core</title>
    <description>Stay informed about developments in Drupal Core.</description>
    <link>https://www.drupal.org/project/drupal</link>
    <item>
      <title>#3571623: Remove deprecated code from the Node module</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3571623.md</link>
      <guid isPermaLink="false">drupal-core-3571623</guid>
      <pubDate>Sun, 22 Feb 2026 11:20:19 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal task&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; main&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/637e0e356bc76d0329fb4ca88ec938d2d37b08d3"&gt;637e0e3&lt;/a&gt; · +47/-684 prod · +3/-180 test · 41 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3571623"&gt;#3571623&lt;/a&gt; · 6 contributors · 22 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Drupal 12 deprecated code has been removed from the Node module. This cleanup removes functions, classes, and hooks that were deprecated during the Drupal 11 cycle. The most visible changes include the removal of the deprecated Syndicate block, the &lt;code&gt;node_storage_body_field&lt;/code&gt; module, and several procedural functions that have been replaced with object-oriented alternatives. The removal also includes deprecated template variables and the old &lt;code&gt;hook_ranking()&lt;/code&gt; in favor of &lt;code&gt;hook_node_search_ranking()&lt;/code&gt;. This is internal cleanup work that should not affect sites that have already updated their code to avoid deprecation warnings.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;This issue removes all Drupal 12 deprecated code from the Node module except for &lt;code&gt;node_mark()&lt;/code&gt;, which will be removed separately when the History module is removed. The changes span several areas of the Node module's API and implementation.&lt;/p&gt;
&lt;p&gt;Major removals include the &lt;code&gt;node_storage_body_field&lt;/code&gt; module, which was a backwards compatibility shim, and the Syndicate block (&lt;code&gt;SyndicateBlock&lt;/code&gt;), which provided an RSS feed link. Deprecated procedural functions like &lt;code&gt;node_title_list()&lt;/code&gt;, &lt;code&gt;node_type_get_description()&lt;/code&gt;, &lt;code&gt;node_add_body_field()&lt;/code&gt;, &lt;code&gt;node_access_view_all_nodes()&lt;/code&gt;, and &lt;code&gt;node_reindex_node_search()&lt;/code&gt; have been removed. The &lt;code&gt;template_preprocess_node()&lt;/code&gt; and &lt;code&gt;template_preprocess_node_add_list()&lt;/code&gt; functions were removed as their logic was moved to &lt;code&gt;NodeThemeHooks&lt;/code&gt; service methods.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;NodeStorage::updateType()&lt;/code&gt; method was removed without replacement. The &lt;code&gt;NodePreviewController::title()&lt;/code&gt; callback was removed as the title is now generated through standard entity label mechanisms. Required constructor parameters were added to several classes including &lt;code&gt;NodeAccessGrantsCacheContext&lt;/code&gt;, &lt;code&gt;NodePreviewController&lt;/code&gt;, &lt;code&gt;NodeGrantDatabaseStorage&lt;/code&gt;, &lt;code&gt;NodePermissions&lt;/code&gt;, and &lt;code&gt;NodeViewsData&lt;/code&gt; where previously they were optional with deprecation warnings.&lt;/p&gt;
&lt;p&gt;The diff also removes &lt;code&gt;node.admin.inc&lt;/code&gt; entirely, moving the remaining &lt;code&gt;node_mass_update()&lt;/code&gt; function to &lt;code&gt;node.module&lt;/code&gt; where it remains deprecated until Drupal 13. Template variables &lt;code&gt;teaser&lt;/code&gt; and &lt;code&gt;metadata&lt;/code&gt; were removed from node templates. Library definitions for moved JavaScript files were cleaned up. References to the old &lt;code&gt;hook_ranking()&lt;/code&gt; were updated to reference &lt;code&gt;hook_node_search_ranking()&lt;/code&gt; throughout documentation.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: February 5, 2026&lt;/li&gt;
&lt;li&gt;Committed: February 22, 2026 (17 days later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;dcam opened the issue and coordinated the scope of removals. longwave created the initial merge request and identified edge cases like the &lt;code&gt;node.admin.inc&lt;/code&gt; file deprecation timing mismatch. andypost expanded the cleanup to include the &lt;code&gt;node_storage_body_field&lt;/code&gt; module and migration-related deprecations, working through test failures to ensure removals were complete. The team coordinated to preserve migration plugins that need to be removed together in a separate effort.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3571623"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3562072: Menu link content export with dependencies doesn't include parent menu link entity.</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3562072.md</link>
      <guid isPermaLink="false">drupal-core-3562072</guid>
      <pubDate>Fri, 20 Feb 2026 20:31:08 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal bug report&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.3.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/54bc9308376895b5e693dcb0a13f6a0249d55336"&gt;54bc930&lt;/a&gt; · +255/-0 prod · +285/-0 test · 9 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3562072"&gt;#3562072&lt;/a&gt; · 4 contributors · 17 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;When using the default content export system to export menu links that have parent menu links, the parent menu links were not being included as dependencies. This meant that exported menu hierarchies would be incomplete, making it difficult to reliably move menu structures between sites. This bug fix ensures that when you export a child menu link with the &lt;code&gt;--with-dependencies&lt;/code&gt; flag, the parent menu link is automatically included in the export.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The default content export system provides a &lt;code&gt;PreExportEvent&lt;/code&gt; that allows modules to add additional dependencies when entities are exported. The &lt;code&gt;menu_link_content&lt;/code&gt; module was not subscribing to this event, so parent menu link relationships were not being tracked during export.&lt;/p&gt;
&lt;p&gt;The fix adds a new &lt;code&gt;DefaultContentSubscriber&lt;/code&gt; event subscriber to the &lt;code&gt;menu_link_content&lt;/code&gt; module. The subscriber's &lt;code&gt;preExport()&lt;/code&gt; method checks if the entity being exported is a &lt;code&gt;MenuLinkContentInterface&lt;/code&gt; instance and whether it has a parent menu link (identified by the &lt;code&gt;menu_link_content:&lt;/code&gt; prefix in the parent ID). If a parent exists, it loads the parent entity using &lt;code&gt;EntityRepositoryInterface::loadEntityByUuid()&lt;/code&gt; and adds it as a dependency via &lt;code&gt;$event-&amp;gt;metadata-&amp;gt;addDependency()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If the parent cannot be loaded (for example, if it was deleted), the subscriber logs an error to the &lt;code&gt;default_content&lt;/code&gt; logger channel with the UUIDs of both the parent and child menu links. The service is registered in &lt;code&gt;menu_link_content.services.yml&lt;/code&gt; with autowiring and autoconfiguration enabled.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: December 8, 2025&lt;/li&gt;
&lt;li&gt;Committed: February 20, 2026 (2 months later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;vishalkhode reported this issue and provided the initial implementation. phenaproxima provided thorough review feedback and converted the test from a functional test to a more maintainable kernel test, making it easier to verify the fix. godotislate reviewed the changes and confirmed the test-only failure worked as expected. alexpott committed the fix to three branches.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3562072"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3443571: Mobile version of Navigation should have focus trap</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3443571.md</link>
      <guid isPermaLink="false">drupal-core-3443571</guid>
      <pubDate>Wed, 18 Feb 2026 22:35:19 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Major bug report&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; main&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/6aaf45efdf88d5d20b544bb153cc963895851f6e"&gt;6aaf45e&lt;/a&gt; · +72/-2 prod · +616/-6 test · 9 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3443571"&gt;#3443571&lt;/a&gt; · 14 contributors · 91 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;The Navigation module now prevents keyboard users from accidentally focusing on content hidden behind the mobile sidebar. When the sidebar is open on narrow screens, the rest of the page becomes inert so keyboard navigation stays within the visible menu. This fixes an accessibility issue where tabbing through the menu would move focus to elements obscured by the sidebar, violating WCAG 2.4.11 Focus Not Obscured guidelines. The focus trap only applies at mobile widths and removes itself when the sidebar closes or the viewport widens.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The Navigation module's mobile sidebar now implements a focus trap using the HTML &lt;code&gt;inert&lt;/code&gt; attribute. When the sidebar opens at widths below 1024px, a new &lt;code&gt;toggleFocusTrap()&lt;/code&gt; function in &lt;code&gt;admin-toolbar-wrapper.js&lt;/code&gt; adds the &lt;code&gt;inert&lt;/code&gt; attribute to all direct children of &lt;code&gt;body&lt;/code&gt; except the sidebar and overlay. This prevents keyboard and screen reader users from accessing hidden content.&lt;/p&gt;
&lt;p&gt;The implementation listens for two events. The sidebar's toggle event calls &lt;code&gt;toggleFocusTrap()&lt;/code&gt; when opening or closing on mobile. A &lt;code&gt;matchMedia&lt;/code&gt; listener on the viewport width removes &lt;code&gt;inert&lt;/code&gt; attributes when resizing to desktop and reapplies them when shrinking back to mobile if the sidebar is open.&lt;/p&gt;
&lt;p&gt;Elements with &lt;code&gt;inert&lt;/code&gt; cannot receive focus, be clicked, or appear in the accessibility tree. The function also adds a &lt;code&gt;data-admin-toolbar-inert&lt;/code&gt; attribute for tracking which elements were made inert.&lt;/p&gt;
&lt;p&gt;Three new Nightwatch tests verify the behavior. The tests check that &lt;code&gt;inert&lt;/code&gt; attributes are added on mobile when the sidebar opens, removed when it closes, and never applied at desktop widths. The tests also verify that overlay clicks properly close the sidebar and remove the focus trap.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: April 25, 2024&lt;/li&gt;
&lt;li&gt;Committed: February 18, 2026 (1 year later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;Mike Herchel opened the issue in April 2024 and drove it through a long accessibility review process. He implemented the &lt;code&gt;inert&lt;/code&gt;-based solution after exploring alternatives, wrote comprehensive Nightwatch tests using AI assistance, and responded to testing feedback from multiple reviewers over many months.&lt;/p&gt;
&lt;p&gt;Kent Richards improved the issue summary, created two followup issues for the close button and ESC key behavior, and kept the scope focused on the core fix. Roland Koller uncovered browser caching issues during testing that initially made the fix appear broken, persisting until the root cause was identified. Catch suggested the cache directory cleanup that resolved Koller's testing problems.&lt;/p&gt;
&lt;h2&gt;Lessons learned&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When implementing modal-like UI components that overlay page content, use the &lt;code&gt;inert&lt;/code&gt; attribute on background elements to prevent keyboard navigation and screen reader access to obscured content. This ensures keyboard focus cannot reach elements hidden behind the overlay, satisfying accessibility requirements without manually trapping tab events or preventing access to browser UI. &lt;em&gt;(via mherchel, rkoller)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3443571"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3572169: Put the mobile sidebar close button into the TAB sequence</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3572169.md</link>
      <guid isPermaLink="false">drupal-core-3572169</guid>
      <pubDate>Wed, 18 Feb 2026 20:49:40 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Major bug report&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.3.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/213298250a77c4e8090e5895d4bd538bf8f976d6"&gt;2132982&lt;/a&gt; · +6/-3 · 3 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3572169"&gt;#3572169&lt;/a&gt; · 5 contributors · 20 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;The Navigation module's mobile sidebar now allows keyboard users to reach the close button by pressing the TAB key. Previously, keyboard users could open the mobile sidebar but had no way to close it without a mouse, violating basic accessibility requirements. This fix ensures that all users can navigate and interact with the mobile sidebar independently.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The Navigation module's mobile sidebar close button was incorrectly removed from keyboard navigation by setting &lt;code&gt;tabindex=&amp;quot;-1&amp;quot;&lt;/code&gt; in the &lt;code&gt;navigation.html.twig&lt;/code&gt; template. This violated WCAG 2.1.1 Keyboard (Level A) because keyboard users could open the mobile sidebar using the &amp;quot;Expand sidebar&amp;quot; button but had no keyboard method to close it again.&lt;/p&gt;
&lt;p&gt;The fix removes the &lt;code&gt;tabindex=&amp;quot;-1&amp;quot;&lt;/code&gt; attribute from the close button's attributes in &lt;code&gt;navigation.html.twig&lt;/code&gt;. Without an explicit negative tabindex, the button follows normal DOM order and receives focus naturally after the logo link when users tab through the mobile sidebar. A code comment was added to document that the close button should remain in the tab sequence to prevent future regressions.&lt;/p&gt;
&lt;p&gt;This change is part of broader accessibility improvements to the Navigation module, specifically following up on the mobile focus trap implementation in &lt;a href="https://www.drupal.org/project/drupal/issues/3443571"&gt;#3443571&lt;/a&gt; and addressing issues identified in the accessibility review plan &lt;a href="https://www.drupal.org/project/drupal/issues/3391723"&gt;#3391723&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: February 8, 2026&lt;/li&gt;
&lt;li&gt;Committed: February 18, 2026 (10 days later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;kentr identified and fixed this accessibility gap as a follow-up to focus trap work. rkoller worked with katannshaw, mgifford, and mherchel to evaluate the issue as a blocker for the Navigation accessibility review. mherchel thoroughly tested the fix across multiple scenarios including desktop widths and closed drawer states. The team discussed nuances like tab order placement and whether to follow DOM order, ultimately choosing the simpler approach that respects natural document flow.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3572169"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3565020: Set the Drupal\views\ViewsData::$fullyLoaded property to TRUE only when the data is really loaded.</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3565020.md</link>
      <guid isPermaLink="false">drupal-core-3565020</guid>
      <pubDate>Wed, 18 Feb 2026 17:38:19 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Major bug report&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.3.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/88dc1323f7f70c425f6a01af75f6fc2988c3672c"&gt;88dc132&lt;/a&gt; · +105/-18 prod · +924/-0 test · 6 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3565020"&gt;#3565020&lt;/a&gt; · 10 contributors · 43 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Drupal sometimes failed to load Views data correctly when multiple processes tried to load it at the same time using PHP fibers. This caused database errors on pages with Views blocks, especially on multilingual sites. The issue occurred because the system marked data as loaded before it actually finished loading. The fix ensures Views data is fully loaded before marking it complete, and suspends competing processes to let the first one finish.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;ViewsData::getData()&lt;/code&gt; method previously set the &lt;code&gt;$fullyLoaded&lt;/code&gt; property to TRUE at the start of the method, before actually retrieving or building the data. When running inside a fiber that suspended during module hook invocation, a second fiber could enter the method, see &lt;code&gt;$fullyLoaded&lt;/code&gt; was TRUE, and use empty data arrays.&lt;/p&gt;
&lt;p&gt;The fix moves setting &lt;code&gt;$fullyLoaded&lt;/code&gt; to TRUE until after the data is obtained (either from cache or by building it). A new &lt;code&gt;$loading&lt;/code&gt; property tracks when data building is in progress. Both &lt;code&gt;get()&lt;/code&gt; and &lt;code&gt;getAll()&lt;/code&gt; check this flag at entry. If another fiber is loading data, the current fiber suspends once using &lt;code&gt;\Fiber::suspend()&lt;/code&gt; to give the original fiber a chance to complete.&lt;/p&gt;
&lt;p&gt;This approach mirrors the pattern used in &lt;code&gt;LocalTaskManager::getLocalTasks()&lt;/code&gt;. It prevents race conditions while also reducing redundant work. Without the fiber suspension check, multiple fibers would build the same data simultaneously. With it, the second fiber waits for the first to complete, avoiding duplicate builds.&lt;/p&gt;
&lt;p&gt;The unit tests verify the &lt;code&gt;$fullyLoaded&lt;/code&gt; property lifecycle using reflection. A new &lt;code&gt;testConcurrentFiberAccess()&lt;/code&gt; test simulates concurrent fiber execution with four combinations of &lt;code&gt;get()&lt;/code&gt; and &lt;code&gt;getAll()&lt;/code&gt; calls, confirming that both fibers receive correct data and no empty cache entries are written.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: December 29, 2025&lt;/li&gt;
&lt;li&gt;Committed: February 18, 2026 (1 month later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;dench0 opened the issue with detailed reproduction steps and a clear diagnosis of the race condition in Views data loading. eduardo morales alberti and their team worked on improvements to the test coverage and incorporated feedback about assertion messages. godotislate performed thorough testing against both the original reproduction steps and the test-only job, retargeted the merge request to the correct branch, and pushed for the fiber suspension optimization. berdir suggested the optimization based on their experience implementing the same pattern in LocalTaskManager and opened a follow-up issue for standardizing this approach across core. mariaioann provided production validation, confirming the patch fixed failures that appeared after upgrading from 11.2.10 to 11.3.3.&lt;/p&gt;
&lt;h2&gt;Lessons learned&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When a flag tracks asynchronous work completion, set it only after the work succeeds. Setting the flag before the work completes causes race conditions: if the async operation suspends (e.g., in a Fiber), subsequent calls see the flag set and skip initialization, leaving data structures empty or incomplete. &lt;em&gt;(via dench0, berdir)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;When cache-loading code can be re-entered during asynchronous execution, check if you are inside a Fiber and suspend once on detecting re-entry. This gives the first caller a chance to complete the work before duplicating the expensive operation, avoiding loading the same data twice. &lt;em&gt;(via berdir)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3565020"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3525077: Remove deprecated paths from the Database API &amp; friends</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3525077.md</link>
      <guid isPermaLink="false">drupal-core-3525077</guid>
      <pubDate>Wed, 18 Feb 2026 13:32:18 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal task&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; main&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/db2875d5ec8578aad7e447146ac5916a8e5a88ef"&gt;db2875d&lt;/a&gt; · +82/-347 prod · +13/-281 test · +0/-18 infra · 33 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3525077"&gt;#3525077&lt;/a&gt; · 4 contributors · 18 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Drupal 12 introduced several API changes in the Database layer during Drupal 11, including a new &lt;code&gt;FetchAs&lt;/code&gt; enum for fetch modes, variadic parameters for tag checking methods, and streamlined connection URL parsing. This change removes all deprecation handling code and deprecated classes that were added to support backwards compatibility in Drupal 11. Contrib and custom modules that already updated their code for Drupal 11 will continue to work without changes.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;This maintenance task removes deprecated code paths and backwards compatibility shims from the Database API that were introduced during Drupal 11. The removed deprecations include: integer-based PDO fetch mode support in favor of the &lt;code&gt;FetchAs&lt;/code&gt; enum (from &lt;a href="https://www.drupal.org/node/3488338"&gt;#3488338&lt;/a&gt;); the &lt;code&gt;$root&lt;/code&gt; parameter from &lt;code&gt;Connection::createConnectionOptionsFromUrl()&lt;/code&gt; and &lt;code&gt;Database::convertDbUrlToConnectionInfo()&lt;/code&gt; (from &lt;a href="https://www.drupal.org/node/3511287"&gt;#3511287&lt;/a&gt;); &lt;code&gt;func_get_args()&lt;/code&gt; style calls in &lt;code&gt;hasAllTags()&lt;/code&gt; and &lt;code&gt;hasAnyTag()&lt;/code&gt; in favor of variadic parameters (from &lt;a href="https://www.drupal.org/node/3501046"&gt;#3501046&lt;/a&gt;); deprecated properties on &lt;code&gt;StatementPrefetchIterator&lt;/code&gt;; and &lt;code&gt;StatementPrefetchIterator::fetchColumn()&lt;/code&gt; in favor of &lt;code&gt;fetchField()&lt;/code&gt; (from &lt;a href="https://www.drupal.org/node/3490312"&gt;#3490312&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;The diff removes empty MySQL, PostgreSQL, and SQLite query class stubs that were deprecated in Drupal 11.0 for direct extension from core classes (from &lt;a href="https://www.drupal.org/node/3256524"&gt;#3256524&lt;/a&gt;). It also removes various deprecated internal properties like &lt;code&gt;$data&lt;/code&gt;, &lt;code&gt;$columnNames&lt;/code&gt;, &lt;code&gt;$rowCount&lt;/code&gt;, and &lt;code&gt;$defaultFetchStyle&lt;/code&gt; from statement classes, moving remaining functionality to &lt;code&gt;PdoTrait&lt;/code&gt; where needed.&lt;/p&gt;
&lt;p&gt;All deprecation trigger warnings, deprecation test coverage, PHPStan baseline entries for deprecated code, and deprecation-ignore patterns have been removed. Assertions now enforce the correct parameter types instead of triggering deprecations.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: May 17, 2025&lt;/li&gt;
&lt;li&gt;Committed: February 18, 2026 (9 months later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;mondrake opened this issue to track removal of Drupal 12 deprecations from the Database API. smustgrave reviewed the merge request and confirmed all Drupal 12 deprecations were removed and feedback addressed before longwave committed the changes.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3525077"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3570238: Deprecate remaining functions in taxonomy</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3570238.md</link>
      <guid isPermaLink="false">drupal-core-3570238</guid>
      <pubDate>Wed, 18 Feb 2026 11:31:09 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal task&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/648ed214a99a8aaeeeb2c4ea26dddd020b707944"&gt;648ed21&lt;/a&gt; · +174/-12 · 4 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3570238"&gt;#3570238&lt;/a&gt; · 4 contributors · 12 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Drupal core is moving internal taxonomy code to modern object-oriented patterns. Two legacy functions that maintained the taxonomy index table are now deprecated. These functions were only used internally by Drupal core and have no known uses in contributed modules. The taxonomy index continues to work exactly as before. This is part of ongoing work to clean up older procedural code in the taxonomy module.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;taxonomy_build_node_index()&lt;/code&gt; and &lt;code&gt;taxonomy_delete_node_index()&lt;/code&gt; functions have been deprecated with no public replacement. These were the last two remaining procedural functions in the taxonomy module.&lt;/p&gt;
&lt;p&gt;Both functions managed the &lt;code&gt;taxonomy_index&lt;/code&gt; table, a denormalized cache of term/node relationships used for efficient queries. The functions were only called from within hook implementations in the taxonomy module itself (&lt;code&gt;hook_node_insert()&lt;/code&gt;, &lt;code&gt;hook_node_update()&lt;/code&gt;, and &lt;code&gt;hook_node_predelete()&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;The code has been moved to new protected methods &lt;code&gt;buildNodeIndex()&lt;/code&gt; and &lt;code&gt;deleteNodeIndex()&lt;/code&gt; inside the &lt;code&gt;TaxonomyHooks&lt;/code&gt; class. The functionality remains identical. The hook implementations now call the new methods instead of the deprecated functions. This refactoring supports the broader effort tracked in &lt;a href="https://www.drupal.org/project/drupal/issues/3502014"&gt;#3502014&lt;/a&gt; to clean up hook implementations in the Taxonomy module. It also relates to &lt;a href="https://www.drupal.org/project/drupal/issues/2339235"&gt;#2339235&lt;/a&gt;, which addresses removing taxonomy's hard dependency on the node module.&lt;/p&gt;
&lt;p&gt;The diff also fixes a duplicate deprecation notice line that was accidentally included for the &lt;code&gt;taxonomy_term_is_page()&lt;/code&gt; function.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: January 29, 2026&lt;/li&gt;
&lt;li&gt;Committed: February 18, 2026 (20 days later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;Nicxvan opened the issue and identified these functions as candidates for deprecation after confirming they had no uses in contributed modules. Dcam reviewed the patch thoroughly, verifying that deprecation versions followed the guidance finalized that day, confirming all usages were removed, and checking that the change record was accurate.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3570238"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3554134: Begin cleaning up system install requirements</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3554134.md</link>
      <guid isPermaLink="false">drupal-core-3554134</guid>
      <pubDate>Wed, 18 Feb 2026 09:19:45 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal task&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/e4f6bb432ce8555e38196020e34ea55aebc501d1"&gt;e4f6bb4&lt;/a&gt; · +3228/-2412 prod · +0/-24 infra · 6 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3554134"&gt;#3554134&lt;/a&gt; · 3 contributors · 26 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Drupal's system requirements checking code has been refactored to separate installation-time checks from runtime and update checks. Previously, all three phases shared a single large method that used conditional logic to determine which requirements to check. This refactoring splits the code into separate classes, making the codebase more maintainable and reducing code complexity by over 1,000 lines during installation. The cyclomatic complexity of the most complex method in Drupal core dropped significantly, and the separation allows for cleaner future improvements to requirements checking.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;SystemRequirements::checkRequirements()&lt;/code&gt; method was copied into &lt;code&gt;SystemRequirementsHooks&lt;/code&gt; for runtime and update phases, then simplified for each context. The install-time &lt;code&gt;SystemRequirements&lt;/code&gt; class now only contains checks relevant during installation, removing all runtime and update phase conditional logic. The &lt;code&gt;SystemRequirementsHooks&lt;/code&gt; class implements &lt;code&gt;hook_runtime_requirements()&lt;/code&gt; and &lt;code&gt;hook_update_requirements()&lt;/code&gt;, containing only runtime and update checks without install phase logic.&lt;/p&gt;
&lt;p&gt;This separation reduced cyclomatic complexity from 222 to 56 for &lt;code&gt;SystemRequirements::checkRequirements()&lt;/code&gt;. The &lt;code&gt;SystemRequirementsHooks::checkRequirements()&lt;/code&gt; method now has complexity 181, but is isolated and can be further refactored in follow-up issues. Several PHPStan baseline entries for undefined variables were removed as dead code paths were eliminated.&lt;/p&gt;
&lt;p&gt;The refactoring removes phase-specific checks like experimental module warnings, cron status, configuration file protection, and entity update status from the install phase. Similarly, installation-specific checks like clean URL testing and initial file system setup are removed from runtime and update phases.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: October 24, 2025&lt;/li&gt;
&lt;li&gt;Committed: February 18, 2026 (3 months later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;nicxvan authored the issue and refactoring, maintaining the large merge request through multiple rounds of review. dcam provided thorough review by manually comparing the three versions of the requirements code, verifying that phase-specific logic was correctly separated, and conducting manual testing of installation, runtime status reports, and update requirements. catch committed the change despite acknowledged risk from limited test coverage, recognizing the maintainability benefits of reducing the highest cyclomatic complexity in core. Follow-up issues &lt;a href="https://www.drupal.org/project/drupal/issues/3574156"&gt;#3574156&lt;/a&gt; and &lt;a href="https://www.drupal.org/project/drupal/issues/3574266"&gt;#3574266&lt;/a&gt; were created to continue the refactoring work.&lt;/p&gt;
&lt;h2&gt;Lessons learned&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When a method handles multiple runtime phases with conditional logic, splitting it into phase-specific implementations reduces complexity even if total line count stays similar. The separated code becomes maintainable because each implementation can be simplified independently without risking other phases. &lt;em&gt;(via nicxvan, catch)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3554134"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3569458: Replace http with https for jsonapi.org</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3569458.md</link>
      <guid isPermaLink="false">drupal-core-3569458</guid>
      <pubDate>Tue, 17 Feb 2026 23:19:29 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal task&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/1d23af4cea6740b57102c1d29b38add337aaf92e"&gt;1d23af4&lt;/a&gt; · +46/-46 prod · +8/-8 test · 32 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3569458"&gt;#3569458&lt;/a&gt; · 5 contributors · 12 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;All references to the JSON:API specification website in Drupal core now use secure HTTPS URLs instead of HTTP. This ensures links to the specification documentation are accessed over encrypted connections. The change affects documentation comments, error messages, and test assertions throughout the JSON:API module but does not change any functionality.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;This change updates 44 occurrences of &lt;code&gt;http://jsonapi.org&lt;/code&gt; URLs to &lt;code&gt;https://jsonapi.org&lt;/code&gt; across the JSON:API module. The updates span multiple file types including API documentation (&lt;code&gt;jsonapi.api.php&lt;/code&gt;), class constants in &lt;code&gt;JsonApiSpec::SUPPORTED_SPECIFICATION_PERMALINK&lt;/code&gt;, PHPDoc &lt;code&gt;@see&lt;/code&gt; and &lt;code&gt;@link&lt;/code&gt; tags, inline comments, error response headers in &lt;code&gt;JsonApiRequestValidator&lt;/code&gt;, and test assertions in &lt;code&gt;ResourceTestBase&lt;/code&gt; and related test classes.&lt;/p&gt;
&lt;p&gt;The changes were applied using a scripted find-and-replace command to ensure consistency. All modified URLs were verified to work correctly with HTTPS. Most changes are in comments and documentation, making this a safe internal improvement. Three functional code changes include the specification permalink constant value, an HTTP response &lt;code&gt;Link&lt;/code&gt; header value, and test assertion expectations, but these do not alter behavior since the URLs still resolve correctly.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: January 25, 2026&lt;/li&gt;
&lt;li&gt;Committed: February 17, 2026 (23 days later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;quietone opened this issue as part of a broader initiative (&lt;a href="https://www.drupal.org/project/drupal/issues/3399840"&gt;#3399840&lt;/a&gt;) to migrate all HTTP URLs in core to HTTPS. Sujal Kshatri created the merge request, applied the scripted replacement, and documented the commands used. dcam rebased the branch and performed thorough validation, checking that all URLs work and reviewing the changes for unintended replacements. Stefan lehmann independently verified the changes and confirmed the approach was sound.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3569458"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3551970: Check in commit-code-check for changes to MAINTAINERS.txt</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3551970.md</link>
      <guid isPermaLink="false">drupal-core-3551970</guid>
      <pubDate>Tue, 17 Feb 2026 22:53:51 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal task&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/cf6401bcee06abda75ea385e90c9159baed629a4"&gt;cf6401b&lt;/a&gt; · +34/-0 · 2 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3551970"&gt;#3551970&lt;/a&gt; · 5 contributors · 18 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;When committers add or remove subsystem and topic maintainers, they also need to update documentation pages, Slack channels, and email groups. These follow-up steps were sometimes being forgotten. The commit code check script now prints a blue informational message whenever MAINTAINERS.txt changes, reminding committers to make those related updates and linking to instructions.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;commit-code-check.sh&lt;/code&gt; script now tracks when &lt;code&gt;core/MAINTAINERS.txt&lt;/code&gt; is modified in a commit. When a change is detected, it sets the &lt;code&gt;MAINTAINERS_TXT_CHANGED&lt;/code&gt; flag and prints a blue informational message at the end of the commit checks.&lt;/p&gt;
&lt;p&gt;The message reminds committers to update related resources like documentation pages, Slack channels, and email groups. It includes a link to the policy page at drupal.org/about/core/policies/maintainers/add-or-remove-a-subsystem-or-topic-maintainer.&lt;/p&gt;
&lt;p&gt;This follows the existing pattern in the script for detecting changes to cspell dictionary files. The check uses a blue color (via &lt;code&gt;tput setaf 4&lt;/code&gt;) to distinguish informational messages from errors (red) and success messages (green). The implementation adds the check during the file scanning loop and outputs the message after all other checks complete.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: October 14, 2025&lt;/li&gt;
&lt;li&gt;Committed: February 17, 2026 (4 months later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;quietone identified the problem after checking in with subsystem and topic maintainers and learning that documentation pages were not being kept up to date. smustgrave reviewed the approach and approved the change. longwave implemented the solution in the commit-code-check script and backported it to 11.x to keep branches in sync.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3551970"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3573856: SiteConfigureForm properties need to be reset after module install in submitForm()</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3573856.md</link>
      <guid isPermaLink="false">drupal-core-3573856</guid>
      <pubDate>Tue, 17 Feb 2026 17:41:15 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Critical bug report&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/31b727dc4f652a986f2b5cf538c24be2da6615c9"&gt;31b727d&lt;/a&gt; · +36/-4 prod · +84/-0 test · 6 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3573856"&gt;#3573856&lt;/a&gt; · 4 contributors · 16 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;When installing Drupal using the Standard or Umami installation profile with the &amp;quot;Check for updates automatically&amp;quot; option enabled, the site configuration form would crash with an error. This happened because installing the Update module triggers a container rebuild, but the form still referenced services from the old container. The fix ensures all service references are refreshed after the Update module is installed, allowing site installation to complete successfully.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The bug occurred in &lt;code&gt;SiteConfigureForm::submitForm()&lt;/code&gt; when the &lt;code&gt;update&lt;/code&gt; module was installed during the site configuration step. Installing a module rebuilds Drupal's service container, but the form object's injected properties like &lt;code&gt;$entityTypeManager&lt;/code&gt;, &lt;code&gt;$moduleInstaller&lt;/code&gt;, and &lt;code&gt;$userNameValidator&lt;/code&gt; still pointed to services from the old container. When the form attempted to load user 1 to populate field values, these stale references caused exceptions.&lt;/p&gt;
&lt;p&gt;The fix adds a new &lt;code&gt;resetPropertiesFromContainer()&lt;/code&gt; method that repopulates all container-dependent properties from the newly rebuilt container. This method is called immediately after &lt;code&gt;$this-&amp;gt;moduleInstaller-&amp;gt;install(['update'])&lt;/code&gt; runs. It follows the same pattern as the existing &lt;code&gt;resetConfigFactory()&lt;/code&gt; method in &lt;code&gt;FormBase&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The issue went undetected in existing installer tests because none of them enabled the update module during installation. A new test hook class &lt;code&gt;TestingSiteConfigHooks&lt;/code&gt; was added to simulate a dependency chain requiring the kernel, and &lt;code&gt;InstallerSiteConfigProfileTest&lt;/code&gt; was updated to enable the update module, ensuring the fix works correctly.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: February 16, 2026&lt;/li&gt;
&lt;li&gt;Committed: February 17, 2026&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;godotislate opened the issue and developed the fix after smustgrave discovered the bug and nicxvan helped investigate on Slack. godotislate traced why existing tests didn't catch the problem and added test coverage to prevent regressions. nicxvan performed manual testing to verify the fix. catch provided feedback on potential alternative approaches for a follow-up issue.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3573856"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3560118: In Umami, replace Toolbar with Navigation</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3560118.md</link>
      <guid isPermaLink="false">drupal-core-3560118</guid>
      <pubDate>Tue, 17 Feb 2026 14:15:22 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Major task&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/20e9a3ae07f979f0457dd371c55229324a216155"&gt;20e9a3a&lt;/a&gt; · +10/-10 prod · +48/-72 test · 14 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3560118"&gt;#3560118&lt;/a&gt; · 6 contributors · 18 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;The Umami demo profile now installs the Navigation module instead of Toolbar. This update modernizes the demo site to showcase Drupal's new navigation experience, which is becoming the standard administrative interface. The demonstration warning message now appears on all pages when using Navigation, not just administrative pages, making it more visible that Umami is a demo site.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;demo_umami&lt;/code&gt; profile's &lt;code&gt;demo_umami.info.yml&lt;/code&gt; file now lists &lt;code&gt;navigation&lt;/code&gt; instead of &lt;code&gt;toolbar&lt;/code&gt; as an installed module. The Author and Editor role configurations replace the &lt;code&gt;access toolbar&lt;/code&gt; permission with &lt;code&gt;access navigation&lt;/code&gt; and update their module dependencies accordingly.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;testDemonstrationWarningMessage()&lt;/code&gt; test method was simplified by removing the separate &lt;code&gt;testNavigationDemonstrationWarningMessage()&lt;/code&gt; method that manually installed Navigation. The test now expects the demonstration warning to appear on all pages (front page and node pages), not just administrative pages. This reflects a behavior change in how Navigation displays status messages compared to Toolbar.&lt;/p&gt;
&lt;p&gt;Performance test expectations were updated to reflect Navigation's resource usage. Navigation uses slightly different JavaScript and CSS assets than Toolbar, resulting in more cache operations and slightly different query counts. The tests in &lt;code&gt;OpenTelemetryFrontPagePerformanceTest&lt;/code&gt;, &lt;code&gt;OpenTelemetryNodePagePerformanceTest&lt;/code&gt;, and &lt;code&gt;AssetAggregationAcrossPagesTest&lt;/code&gt; now expect these new baseline metrics.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: November 26, 2025&lt;/li&gt;
&lt;li&gt;Committed: February 17, 2026 (2 months later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;longwave created the initial implementation and navigated the performance test updates. catch provided guidance on keeping Toolbar references in Umami for sites that might manually install it. berdir connected this work to ongoing Layout Builder performance improvements in &lt;a href="https://www.drupal.org/project/drupal/issues/3418328"&gt;#3418328&lt;/a&gt; and &lt;a href="https://www.drupal.org/project/drupal/issues/3060985"&gt;#3060985&lt;/a&gt;, providing context about query count changes. smustgrave tested the installation and confirmed the changes work correctly.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3560118"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3570863: Deprecate _menu_link_content_update_path_alias</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3570863.md</link>
      <guid isPermaLink="false">drupal-core-3570863</guid>
      <pubDate>Mon, 16 Feb 2026 22:01:56 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal task&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; main&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/99d71d7d7912c9f174dbad025e239db488bd97df"&gt;99d71d7&lt;/a&gt; · +78/-20 · 4 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3570863"&gt;#3570863&lt;/a&gt; · 3 contributors · 17 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;This change deprecates an internal helper function in the Menu Link Content module and moves its code into a modern object-oriented structure. The deprecated function will be removed in Drupal 12. This is part of ongoing work to eliminate underscore-prefixed functions from Drupal core and modernize the codebase with dependency injection patterns.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;_menu_link_content_update_path_alias()&lt;/code&gt; function is deprecated in favor of a protected &lt;code&gt;updatePathAlias()&lt;/code&gt; method within the &lt;code&gt;MenuLinkContentHooks&lt;/code&gt; class. This function was the last remaining function in the &lt;code&gt;menu_link_content.module&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;The new &lt;code&gt;updatePathAlias()&lt;/code&gt; method provides identical functionality but follows modern Drupal architecture. It loads menu link content entities by their internal URI and updates their plugin definitions when path aliases change. The &lt;code&gt;MenuLinkContentHooks&lt;/code&gt; class now uses constructor dependency injection for &lt;code&gt;EntityTypeManagerInterface&lt;/code&gt;, &lt;code&gt;ModuleHandlerInterface&lt;/code&gt;, and &lt;code&gt;MenuLinkManagerInterface&lt;/code&gt;, replacing static &lt;code&gt;\Drupal::service()&lt;/code&gt; calls throughout the class.&lt;/p&gt;
&lt;p&gt;All internal calls to the deprecated function from hook implementations (&lt;code&gt;hook_path_alias_insert()&lt;/code&gt;, &lt;code&gt;hook_path_alias_update()&lt;/code&gt;, and &lt;code&gt;hook_path_alias_delete()&lt;/code&gt;) now use the new protected method. The &lt;code&gt;entityPredelete()&lt;/code&gt; method also received cleanup to use the injected &lt;code&gt;$this-&amp;gt;menuLinkManager&lt;/code&gt; property instead of calling the service directly. The deprecated function triggers an &lt;code&gt;E_USER_DEPRECATED&lt;/code&gt; error and references change record &lt;a href="https://www.drupal.org/node/3566774"&gt;#3566774&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Upgrade&lt;/h2&gt;
&lt;p&gt;If you are calling &lt;code&gt;_menu_link_content_update_path_alias()&lt;/code&gt; in custom code, there is no direct replacement. This was an internal function marked with an underscore prefix. Review your code to determine if you need to implement similar logic directly, or consider alternative approaches using the menu link manager service.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: February 1, 2026&lt;/li&gt;
&lt;li&gt;Committed: February 16, 2026 (15 days later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;nicxvan opened the issue and developed the patch through multiple iterations. dcam provided thorough code review, catching a missed service injection update and confirming the approach through several rounds of feedback as the deprecation strategy evolved during development.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3570863"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#1894286: System updates are executed without priority</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/1894286.md</link>
      <guid isPermaLink="false">drupal-core-1894286</guid>
      <pubDate>Mon, 16 Feb 2026 18:15:47 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Critical bug report&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.3.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/b090f8e4430cd558ca90b44a1d3f4b842d25402f"&gt;b090f8e&lt;/a&gt; · +186/-0 prod · +684/-0 test · 9 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/1894286"&gt;#1894286&lt;/a&gt; · 22 contributors · 108 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Drupal's update system did not always run system module database updates before other modules' updates, even when no explicit dependencies prevented it. This could cause cryptic failures during major or minor version upgrades, particularly when system updates made foundational changes that other updates depended on. The update dependency graph now ensures system updates execute as early as possible while still respecting explicit dependencies declared via &lt;code&gt;hook_update_dependencies()&lt;/code&gt;. Sites performing upgrades across Drupal versions with many pending updates will now have more reliable update paths.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;update_build_dependency_graph()&lt;/code&gt; function in &lt;code&gt;core/includes/update.inc&lt;/code&gt; now manipulates the dependency graph to prioritize system module updates. It tracks the highest numbered system update and the lowest numbered update for each non-system module.&lt;/p&gt;
&lt;p&gt;When there are no explicit dependencies forcing non-system updates before system updates, the code adds edges from the last system update to the first update of every other module. This simple case ensures all system updates run first.&lt;/p&gt;
&lt;p&gt;When &lt;code&gt;hook_update_dependencies()&lt;/code&gt; forces non-system updates before system updates, the code builds an interim graph using &lt;code&gt;Graph::searchAndSort()&lt;/code&gt;. It examines the paths key for each non-system update to find which system updates depend on it. Non-system updates with no system update dependencies get an edge from the last system update. Non-system updates that must run before a specific system update get an edge from the previous system update, preserving the dependency chain while still running as many system updates as early as possible.&lt;/p&gt;
&lt;p&gt;The new &lt;code&gt;UpdateOrderingTest&lt;/code&gt; unit test provides comprehensive coverage of update ordering scenarios including dependency chains, in-between dependencies, and complex multi-module dependency graphs. The test uses a fixture that implements &lt;code&gt;hook_update_dependencies()&lt;/code&gt; with configurable return values.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: January 21, 2013&lt;/li&gt;
&lt;li&gt;Committed: February 16, 2026 (13 years later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;This issue remained open for over 13 years with 108 comments. hchonov identified reproducible cases where taxonomy updates ran before system updates during 8.4.8 to 8.6.x upgrades and provided early patches with graph manipulation logic. alexpott shepherded the final implementation through multiple iterations, refactoring the approach to use an interim graph object instead of complex recursive processing, and adding comprehensive test coverage. catch and larowlan provided thorough reviews that pushed the code toward clarity and correctness. The persistence across many contributors and the focus on test coverage for such a critical subsystem exemplify the care required for foundational Drupal systems.&lt;/p&gt;
&lt;h2&gt;Lessons learned&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When building dependency graphs for ordered execution, implicit dependencies between subsystems can be as important as explicit ones. If framework updates must complete before application code updates run, add edges to enforce ordering even when developers haven't declared dependencies, because the dependency graph algorithm only respects edges, not module roles or semantics. &lt;em&gt;(via hchonov, alexpott)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;When a topological sort produces an acceptable but suboptimal ordering, manipulating weights after sorting is fragile. Instead, add missing edges to the dependency graph before sorting so the graph structure itself encodes the desired constraints and the sort algorithm naturally produces the correct order. &lt;em&gt;(via hchonov, alexpott)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/1894286"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3566801: Helper to check if the entity type's ID is integer</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3566801.md</link>
      <guid isPermaLink="false">drupal-core-3566801</guid>
      <category>Module maintainers</category>
      <pubDate>Mon, 16 Feb 2026 17:04:18 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal feature request&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/747ad627d3659fe9aea504724c1038c9816e148d"&gt;747ad62&lt;/a&gt; · +146/-124 prod · +82/-12 test · 38 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3566801"&gt;#3566801&lt;/a&gt; · 6 contributors · 28 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Drupal core had repetitive code scattered across many modules to check whether an entity type uses integer IDs. This matters because integer IDs enable routing optimizations and affect how entity references are exported. The new helper method centralizes this logic, making code cleaner and easier to maintain. Three deprecated functions remain temporarily for backward compatibility but will be removed in Drupal 13.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;Affects module maintainers.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;New API:&lt;/strong&gt; New &lt;code&gt;EntityTypeInterface::hasIntegerId()&lt;/code&gt; method checks if an entity type uses an integer ID field.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;This change adds &lt;code&gt;EntityTypeInterface::hasIntegerId()&lt;/code&gt; which returns TRUE for integer IDs, FALSE for string IDs, or NULL if the entity type lacks an ID key. The base &lt;code&gt;EntityType&lt;/code&gt; class returns FALSE (for config entities). &lt;code&gt;ContentEntityType&lt;/code&gt; inspects the ID field definition to determine the actual type.&lt;/p&gt;
&lt;p&gt;The method replaces repeated checks like &lt;code&gt;$field_definitions[$id_key]-&amp;gt;getType() === 'integer'&lt;/code&gt; throughout core. It's used in &lt;code&gt;DefaultHtmlRouteProvider&lt;/code&gt; for route requirements, &lt;code&gt;EntityReferenceItem&lt;/code&gt; for property definitions, &lt;code&gt;Exporter&lt;/code&gt; for default content serialization, and &lt;code&gt;WorkspaceTracker&lt;/code&gt; for ID field selection.&lt;/p&gt;
&lt;p&gt;Three helper methods are deprecated: &lt;code&gt;_comment_entity_uses_integer_id()&lt;/code&gt;, &lt;code&gt;DefaultHtmlRouteProvider::getEntityTypeIdKeyType()&lt;/code&gt;, &lt;code&gt;OverridesSectionStorage::hasIntegerId()&lt;/code&gt;, and &lt;code&gt;CommentTypeForm::entityTypeSupportsComments()&lt;/code&gt;. The deprecated &lt;code&gt;getEntityTypeIdKeyType()&lt;/code&gt; method in &lt;code&gt;DefaultHtmlRouteProvider&lt;/code&gt; remains protected, so only extenders of that class are affected by the deprecation. The comment module function was public but rarely used outside core.&lt;/p&gt;
&lt;h2&gt;Upgrade&lt;/h2&gt;
&lt;p&gt;If you extended &lt;code&gt;DefaultHtmlRouteProvider&lt;/code&gt; and called its protected &lt;code&gt;getEntityTypeIdKeyType()&lt;/code&gt; method, replace it with &lt;code&gt;$entity_type-&amp;gt;hasIntegerId()&lt;/code&gt;. If you called the Comment module's &lt;code&gt;_comment_entity_uses_integer_id()&lt;/code&gt; function, use &lt;code&gt;\Drupal::entityTypeManager()-&amp;gt;getDefinition($entity_type_id)-&amp;gt;hasIntegerId()&lt;/code&gt; instead. The deprecated methods will be removed in Drupal 13. See the change record for details: &lt;a href="https://www.drupal.org/node/3566814"&gt;#3566814&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: January 10, 2026&lt;/li&gt;
&lt;li&gt;Committed: February 16, 2026 (1 month later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;Claudiu Cristea opened this issue as part of the broader effort to eliminate &lt;code&gt;.module&lt;/code&gt; files and drove the implementation through multiple iterations. Nicxvan and smustgrave discussed the scope and confirmed that despite touching many test files, most changes were simplifications that justified keeping the work together. Berdir provided detailed review feedback and noted the value of having the method available on config entity types too, even though they always return FALSE. Catch committed the change after confirming that the lack of dependency injection was acceptable for now.&lt;/p&gt;
&lt;h2&gt;Lessons learned&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When multiple parts of a system perform the same conditional check based on underlying data structure, extract the check into a shared API method on the data structure itself. This centralizes the logic, eliminates duplication, and makes the check discoverable through the type system. &lt;em&gt;(via claudiu.cristea)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3566801"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3540105: Capture access cacheability in getDefaultOperations() methods for all relevant entity list builders</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3540105.md</link>
      <guid isPermaLink="false">drupal-core-3540105</guid>
      <pubDate>Mon, 16 Feb 2026 16:57:34 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal bug report&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/502a59b2c2b99717e0d59d8e658e084d78773590"&gt;502a59b&lt;/a&gt; · +206/-60 prod · +178/-18 test · 44 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3540105"&gt;#3540105&lt;/a&gt; · 3 contributors · 15 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Entity list pages show operations like &amp;quot;Edit&amp;quot; and &amp;quot;Delete&amp;quot; for each entity row. These operations depend on access permissions and other dynamic factors. Drupal's cache system needs to know what conditions affect these operations so it can serve cached pages correctly. This fix ensures that when list builders check permissions or other conditions to build their operation links, they properly record those dependencies. Without this fix, cached entity list pages could show incorrect or stale operation links to users.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;A previous issue (&lt;a href="https://www.drupal.org/node/2473873"&gt;#2473873&lt;/a&gt;) added support for passing a &lt;code&gt;CacheableMetadata&lt;/code&gt; object to list builder operation methods so that cacheability information from access checks could be captured. However, many list builder subclasses override &lt;code&gt;getDefaultOperations()&lt;/code&gt; or &lt;code&gt;getOperations()&lt;/code&gt; but did not implement the necessary code to retrieve and pass along this optional second parameter.&lt;/p&gt;
&lt;p&gt;This fix updates approximately 25 list builder classes across core modules to properly capture the cacheability parameter using &lt;code&gt;func_get_args()&lt;/code&gt; and pass it to parent method calls. The pattern is consistent across all implementations: extract the &lt;code&gt;$cacheability&lt;/code&gt; argument from the second position, defaulting to a new &lt;code&gt;CacheableMetadata&lt;/code&gt; object if not provided, then pass it to &lt;code&gt;parent::getDefaultOperations()&lt;/code&gt; or &lt;code&gt;parent::getOperations()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Three list builders perform access checks within their &lt;code&gt;getDefaultOperations()&lt;/code&gt; methods: &lt;code&gt;FieldConfigListBuilder&lt;/code&gt;, &lt;code&gt;VocabularyListBuilder&lt;/code&gt;, and &lt;code&gt;WorkspaceListBuilder&lt;/code&gt;. These now call &lt;code&gt;access()&lt;/code&gt; with &lt;code&gt;return_as_object: TRUE&lt;/code&gt; to get an &lt;code&gt;AccessResultInterface&lt;/code&gt; object, then add it to the &lt;code&gt;$cacheability&lt;/code&gt; object via &lt;code&gt;addCacheableDependency()&lt;/code&gt;. This ensures that cache tags, contexts, and max-age from access checks are properly captured.&lt;/p&gt;
&lt;p&gt;Test coverage expanded significantly in &lt;code&gt;EntityOperationsCacheabilityTest&lt;/code&gt; using a data provider to verify correct cacheability capture for entity types including blocks, comments, fields, filters, images, menus, nodes, search pages, shortcuts, taxonomies, users, views, and workspaces.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: August 6, 2025&lt;/li&gt;
&lt;li&gt;Committed: February 16, 2026 (6 months later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;godotislate opened this issue as follow-up work from &lt;a href="https://www.drupal.org/node/2473873"&gt;#2473873&lt;/a&gt;, identifying the gap in cacheability support across list builder subclasses. They prepared the merge request with comprehensive fixes across 25+ list builder classes and significantly expanded test coverage to verify the changes work correctly for most entity types. mxr576 reviewed the changes and confirmed the test-only build failed as expected, validating that the tests properly detect the bug.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3540105"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#2722307: Move translation based conditions into database query on revisions overview page</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/2722307.md</link>
      <guid isPermaLink="false">drupal-core-2722307</guid>
      <pubDate>Sun, 15 Feb 2026 21:35:15 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal bug report&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.3.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/9367e55ded587cf761fcf24e46480f5eced0913d"&gt;9367e55&lt;/a&gt; · +294/-279 prod · +207/-30 test · 15 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/2722307"&gt;#2722307&lt;/a&gt; · 11 contributors · 57 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;The revision history page for content could show incorrect pagination or even appear empty when a node had many translation-related revisions. The page would load 50 revisions from the database but then filter them afterwards, sometimes leaving nothing to display. The revision page now filters revisions directly in the database query so pagination works correctly and always shows the appropriate revisions for the current language.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The revision overview pages for nodes and other entities were loading revisions via a database query and then filtering them in PHP by checking &lt;code&gt;isRevisionTranslationAffected()&lt;/code&gt;. This approach caused pagination problems because the pager would request 50 revisions from the database, but many could be filtered out afterwards, resulting in fewer revisions displayed than expected or even empty pages.&lt;/p&gt;
&lt;p&gt;The fix moves the translation filtering logic into the database queries themselves. Both &lt;code&gt;NodeController::getRevisionIds()&lt;/code&gt; and &lt;code&gt;VersionHistoryController::loadRevisions()&lt;/code&gt; now add conditions for &lt;code&gt;langcode&lt;/code&gt; and &lt;code&gt;revision_translation_affected&lt;/code&gt; directly to the entity query before pagination is applied. This ensures the pager works correctly because it only counts revisions that will actually be displayed.&lt;/p&gt;
&lt;p&gt;The changes remove the nested conditionals that checked &lt;code&gt;hasTranslation()&lt;/code&gt; and &lt;code&gt;isRevisionTranslationAffected()&lt;/code&gt; after loading revisions. These checks are now redundant because the database query already filters to affected revisions for the current language. The code is also simplified by removing unnecessary indentation levels in &lt;code&gt;NodeController::revisionOverview()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Test coverage was added to verify that creating many non-affecting revisions does not break pagination, and that the pager correctly splits affected revisions across multiple pages.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: May 10, 2016&lt;/li&gt;
&lt;li&gt;First commit: February 13, 2026 (9 years later)&lt;/li&gt;
&lt;li&gt;Last commit: February 15, 2026 (2 days later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;Adam Bramley drove this issue forward over several years, working through the complex interactions between revisions, translations, and pagination. The issue remained open from 2016 until 2026 as the community debated the right approach. Alex Pott updated the issue summary to match the final solution and committed the fix across multiple branches. Rafael Payan made their first commit to the issue fork. Multiple reviewers including smustgrave, quietone, and rosk0 tested the changes and pushed for clarity.&lt;/p&gt;
&lt;h2&gt;Lessons learned&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When filtering data in memory after fetching from the database, pagination breaks if filtered items exceed the page size. Apply filters directly in database queries so pagination counts reflect actual displayable results. &lt;em&gt;(via liam morland, acbramley)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;When loading entities for display, filtering in memory after the query creates confusing user experiences where the 'current' state doesn't match reality. Move filtering logic into queries and surface actual system state, even if it requires additional UI to help users interpret the results. &lt;em&gt;(via catch, acbramley, quietone)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/2722307"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3331158: Support full-screen editing in CKEditor</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3331158.md</link>
      <guid isPermaLink="false">drupal-core-3331158</guid>
      <pubDate>Fri, 13 Feb 2026 19:33:05 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Major task&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/da9a867bd8589a64fead378dd9288ac0a306fafc"&gt;da9a867&lt;/a&gt; · +66/-0 · 10 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3331158"&gt;#3331158&lt;/a&gt; · 30 contributors · 66 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Drupal now supports fullscreen editing in CKEditor 5, a feature that was available in CKEditor 4 but missing after the upgrade to CKEditor 5. Content editors can now expand the editor to fill their entire browser window, providing more space to work with complex content and see more of their text at once. This is especially helpful when working in narrow admin themes or when editing long documents. Site administrators can add the fullscreen button to any text format toolbar through the standard CKEditor configuration interface.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;This change registers CKEditor 5's fullscreen plugin, which has been available in CKEditor 5 core since version 45.0.0, as a Drupal plugin. The implementation adds a new &lt;code&gt;ckeditor5_fullscreen&lt;/code&gt; entry to &lt;code&gt;ckeditor5.ckeditor5.yml&lt;/code&gt; that wraps the upstream &lt;code&gt;fullscreen.Fullscreen&lt;/code&gt; plugin. It includes the fullscreen JavaScript library in &lt;code&gt;core.libraries.yml&lt;/code&gt; pointing to &lt;code&gt;assets/vendor/ckeditor5/fullscreen/fullscreen.js&lt;/code&gt;, and provides an admin library with CSS to style the toolbar button icon.&lt;/p&gt;
&lt;p&gt;The fullscreen plugin requires no configuration beyond adding it to a text format's toolbar. It adds no HTML elements to content, so &lt;code&gt;elements: false&lt;/code&gt; is set in the plugin definition. An SVG icon (&lt;code&gt;fullscreen-enter.svg&lt;/code&gt;) is provided for the toolbar button, styled through &lt;code&gt;fullscreen.admin.css&lt;/code&gt;. The feature was requested shortly after CKEditor 5 became the default editor in Drupal 10, but implementation was postponed waiting for upstream to add the functionality. CKEditor eventually released the feature as part of their core distribution, making integration straightforward.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: January 4, 2023&lt;/li&gt;
&lt;li&gt;Committed: February 13, 2026 (3 years later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;This issue remained open for over two years, from January 2023 when CKEditor 5 became the default until upstream finally released the fullscreen feature in late 2024. Multiple contributors noted the accessibility and usability implications for content editors working in constrained spaces. el7cosmos created the merge request that ultimately landed. mark_fullmer updated the issue summary to clarify the user interface changes. rkoller tested accessibility implications and identified upstream issues to be addressed by CKEditor, helping ensure the feature didn't block on concerns that weren't Drupal's to solve. longwave committed the change after confirming those concerns should be handled upstream.&lt;/p&gt;
&lt;h2&gt;Lessons learned&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When a widely-requested feature becomes available upstream but is temporarily provided through a contrib module, add it to core once it stabilizes upstream. Users shouldn't need to install additional modules for functionality that's part of the upstream library's core release. &lt;em&gt;(via bnjmnm, catch, longwave)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;When identifying UX or accessibility issues in a feature that comes from an upstream library, file those issues upstream rather than patching them in the integration layer. The root cause should be fixed where the feature is implemented. &lt;em&gt;(via longwave, rkoller)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3331158"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#3340978: Remove uses of “illegal” from core</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/3340978.md</link>
      <guid isPermaLink="false">drupal-core-3340978</guid>
      <pubDate>Fri, 13 Feb 2026 19:28:46 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal task&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/5d2be21b9ee0f7a6bd7fceea58af1461bf09deb2"&gt;5d2be21&lt;/a&gt; · +34/-36 prod · +58/-58 test · +2/-0 infra · 56 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/3340978"&gt;#3340978&lt;/a&gt; · 7 contributors · 20 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Drupal core now uses &amp;quot;invalid&amp;quot; instead of &amp;quot;illegal&amp;quot; throughout the codebase to describe incorrect or unsupported values. This language change makes error messages clearer and removes unintended legal connotations. The word &amp;quot;illegal&amp;quot; has been flagged in the spell checker to prevent future use. This affects user-facing messages, developer documentation, code comments, and internal class properties across multiple subsystems including entity queries, field storage, user validation, and Views.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;The change replaces all instances of &amp;quot;illegal&amp;quot; with &amp;quot;invalid&amp;quot; across approximately 50 locations in Drupal core. This includes user-facing validation messages, code comments, exception messages, and internal property names.&lt;/p&gt;
&lt;p&gt;Key changes include renaming the &lt;code&gt;UserNameConstraint::$illegalMessage&lt;/code&gt; property to &lt;code&gt;UserNameConstraint::$invalidMessage&lt;/code&gt; and updating &lt;code&gt;UserNameConstraintValidator&lt;/code&gt; to reference the new property name. Error messages in &lt;code&gt;SqlContentEntityStorageSchema&lt;/code&gt; now say &amp;quot;Invalid initial value definition&amp;quot; and &amp;quot;Reserved field column names&amp;quot; instead of &amp;quot;Illegal.&amp;quot; Views validation messages for field identifiers changed from &amp;quot;This identifier has illegal characters&amp;quot; to &amp;quot;This identifier has invalid characters.&amp;quot;&lt;/p&gt;
&lt;p&gt;The change also updates test fixtures, including renaming a test directory from &lt;code&gt;project-with-illegal-dir-scaffold&lt;/code&gt; to &lt;code&gt;project-with-invalid-dir-scaffold&lt;/code&gt;. The word &amp;quot;illegal&amp;quot; was added to &lt;code&gt;core/.cspell.json&lt;/code&gt; as a flagged word to prevent future usage. Code comments in transliteration, responsive image, and entity query subsystems were updated for consistency.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: February 10, 2023&lt;/li&gt;
&lt;li&gt;Committed: February 13, 2026 (3 years later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;quietone drove this issue forward, making the initial commits and adding the spell checker flag to prevent future usage of the term. dcam provided thorough text review for grammar and accuracy across the many changed strings. dww performed detailed validation of the remaining instances and confirmed the scope was appropriate, noting that migrate fixtures and vendor files were correctly excluded. The ghost of drupal past provided historical context about documentation standards and the original entity query implementation.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/3340978"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>#2655794: Remove redundant WAI-ARIA role attributes from &lt;main&gt;, &lt;nav&gt;, &lt;aside&gt;, &lt;header&gt;, and &lt;footer&gt; elements</title>
      <link>https://github.com/dbuytaert/drupal-digests/blob/main/issues/drupal-core/2655794.md</link>
      <guid isPermaLink="false">drupal-core-2655794</guid>
      <pubDate>Fri, 13 Feb 2026 19:17:46 +0000</pubDate>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project:&lt;/strong&gt; Drupal Core&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type:&lt;/strong&gt; Normal bug report&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; 11.x-dev&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; Fixed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff:&lt;/strong&gt; &lt;a href="https://git.drupalcode.org/project/drupal/-/commit/3fd5767ae805847d7bbb4f47d0775b5c6a7afaca"&gt;3fd5767&lt;/a&gt; · +170/-170 prod · +8/-8 test · 86 files&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion:&lt;/strong&gt; &lt;a href="https://www.drupal.org/node/2655794"&gt;#2655794&lt;/a&gt; · 20 contributors · 66 comments&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;p&gt;Drupal core templates no longer include redundant WAI-ARIA role attributes on HTML5 semantic elements. Modern browsers automatically expose the correct accessibility roles for elements like &lt;code&gt;&amp;lt;main&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;nav&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;aside&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;header&amp;gt;&lt;/code&gt;, and &lt;code&gt;&amp;lt;footer&amp;gt;&lt;/code&gt;, making explicit role attributes unnecessary. This change resolves HTML validation warnings and cleans up markup without affecting accessibility. The explicit role attributes were originally added to support Internet Explorer 11, which Drupal no longer supports.&lt;/p&gt;
&lt;h2&gt;Impact&lt;/h2&gt;
&lt;p&gt;No upgrade or configuration changes required.&lt;/p&gt;
&lt;h2&gt;Technical details&lt;/h2&gt;
&lt;p&gt;This change removes explicit &lt;code&gt;role&lt;/code&gt; attributes from HTML5 semantic elements in Twig templates throughout Drupal core. Modern browsers map these elements to their implicit ARIA landmark roles: &lt;code&gt;&amp;lt;main&amp;gt;&lt;/code&gt; maps to &lt;code&gt;role=&amp;quot;main&amp;quot;&lt;/code&gt;, &lt;code&gt;&amp;lt;nav&amp;gt;&lt;/code&gt; to &lt;code&gt;role=&amp;quot;navigation&amp;quot;&lt;/code&gt;, &lt;code&gt;&amp;lt;aside&amp;gt;&lt;/code&gt; to &lt;code&gt;role=&amp;quot;complementary&amp;quot;&lt;/code&gt;, &lt;code&gt;&amp;lt;header&amp;gt;&lt;/code&gt; to &lt;code&gt;role=&amp;quot;banner&amp;quot;&lt;/code&gt;, and &lt;code&gt;&amp;lt;footer&amp;gt;&lt;/code&gt; to &lt;code&gt;role=&amp;quot;contentinfo&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The redundant attributes were originally added for Internet Explorer 11, which failed to pass implicit landmark roles to accessibility APIs. With Drupal 10+ dropping IE11 support, these attributes became unnecessary markup that triggered HTML validation warnings.&lt;/p&gt;
&lt;p&gt;Templates affected include &lt;code&gt;page.html.twig&lt;/code&gt;, &lt;code&gt;maintenance-page.html.twig&lt;/code&gt;, &lt;code&gt;install-page.html.twig&lt;/code&gt;, &lt;code&gt;breadcrumb.html.twig&lt;/code&gt;, &lt;code&gt;pager.html.twig&lt;/code&gt;, &lt;code&gt;toolbar.html.twig&lt;/code&gt;, and menu block templates across the Claro, Olivero, Umami, and starterkit themes. JavaScript selectors in &lt;code&gt;mobile.install.js&lt;/code&gt; were updated from &lt;code&gt;header[role=&amp;quot;banner&amp;quot;]&lt;/code&gt; to &lt;code&gt;header&lt;/code&gt;. Test assertions checking for role attributes were also updated.&lt;/p&gt;
&lt;p&gt;The Stable 9 theme was intentionally excluded from these changes to preserve backward compatibility for sites using CSS or JavaScript selectors that target role attributes.&lt;/p&gt;
&lt;h2&gt;Upgrade&lt;/h2&gt;
&lt;p&gt;If your custom theme overrides any of the affected core templates and includes custom CSS or JavaScript that selects elements by their role attribute (e.g., &lt;code&gt;header[role=&amp;quot;banner&amp;quot;]&lt;/code&gt;), update those selectors to use the element name alone or add a class selector instead:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-javascript"&gt;// Before
const header = document.querySelector('header[role=&amp;quot;banner&amp;quot;]');

// After
const header = document.querySelector('header');
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See the &lt;a href="https://www.drupal.org/node/2655794"&gt;change record&lt;/a&gt; for the complete list of affected templates.&lt;/p&gt;
&lt;h2&gt;Timeline&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Opened: January 24, 2016&lt;/li&gt;
&lt;li&gt;Committed: February 13, 2026 (10 years later)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Collaboration&lt;/h2&gt;
&lt;p&gt;This issue was opened by BarisW in January 2016 and postponed for nearly a decade until Drupal could drop Internet Explorer 11 support. Andrew Macpherson provided crucial technical research about browser accessibility API behavior and advocated for waiting until IE11 support ended. Mike Gifford championed the accessibility improvements and helped confirm the change was safe for modern assistive technologies. Liam Morland revived the issue after IE11 support was dropped and created the merge request. Mike Herchel expanded the scope to cover all affected templates across Olivero and Claro themes. Benjamin Mullins confirmed that Stable 9 should be excluded to preserve backward compatibility.&lt;/p&gt;
&lt;h2&gt;Lessons learned&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When HTML5 semantic elements have implicit ARIA roles, explicitly declaring the same role is redundant once all supported browsers correctly expose those implicit roles to assistive technologies. However, explicit roles may still be necessary to work around accessibility bugs in specific browsers, even if they cause validation warnings. &lt;em&gt;(via andrewmacpherson)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;When fixing markup issues in stable themes, weigh the benefits against breaking CSS or JavaScript selectors that rely on the existing attributes. Even technically redundant markup should not be changed in stable themes if it provides no user-facing improvement and could cause regressions. &lt;em&gt;(via longwave, bnjmnm)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;This summary is AI-generated and may contain errors. Check the &lt;a href="https://www.drupal.org/node/2655794"&gt;original issue on Drupal.org&lt;/a&gt; for the full picture. For more digests, see &lt;a href="https://github.com/dbuytaert/drupal-digests/"&gt;Drupal Digests&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
  </channel>
</rss>